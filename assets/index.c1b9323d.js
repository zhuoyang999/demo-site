import{j as x,u as V,B as i,P as y,i as k,h as E,Q as I,R as B,S as R,T as F,o as q,q as H,s as f,e as r,d as e,w as t,v as _,t as N}from"./vendor.a206512a.js";import{l as S}from"./index.4b6763cb.js";const T={class:"page flex-center"},z={class:"sign-box"},A={class:"title"},Z={setup(C){const g=x(),{t:o}=V(),c=i(),a=y({account:"",password:""}),h=k(()=>({account:[{required:!0,message:o("form.usernameHolder"),trigger:["change","blur"]},{pattern:/^[a-zA-Z][a-zA-Z0-9_-]{3,31}$/,message:o("form.usernameError"),trigger:["change","blur"]}],password:{required:!0,min:4,message:o("form.passwordError"),trigger:["change","blur"]}})),l=i(!1),n=E();function v(){c.value.validate(m=>{!m||(l.value=!0,S(a).then(s=>{n.commit("user/setToken",s.data.token),n.dispatch("user/refreshInfo"),n.commit("setRouteLoaded",!1),g.push("/")}).finally(()=>{l.value=!1}))})}return(m,s)=>{const p=I,u=B,w=R,b=F;return q(),H("div",T,[f("div",z,[r(b,{ref_key:"formRef",ref:c,model:e(a),rules:e(h),"label-width":"86px"},{default:t(()=>[f("h3",A,_(e(o)("login")),1),r(u,{label:e(o)("form.username"),prop:"account"},{default:t(()=>[r(p,{modelValue:e(a).account,"onUpdate:modelValue":s[0]||(s[0]=d=>e(a).account=d),placeholder:e(o)("form.usernameHolder"),"prefix-icon":"user"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(u,{label:e(o)("form.password"),prop:"password"},{default:t(()=>[r(p,{modelValue:e(a).password,"onUpdate:modelValue":s[1]||(s[1]=d=>e(a).password=d),type:"password",placeholder:e(o)("form.passwordHolder"),"prefix-icon":"lock"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),r(u,{label:""},{default:t(()=>[r(w,{type:"primary",loading:l.value,class:"w100p",onClick:v},{default:t(()=>[N(_(e(o)("login")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])])}}};export{Z as default};
